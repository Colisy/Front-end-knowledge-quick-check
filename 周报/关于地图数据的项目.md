# 关于地图数据的项目
## 项目描述
基于百度地图，为了监控地图相关数据作出决策，个性化使用嘀嗒自定义地图边界。

## 项目架构
前端采用vue2.0全家桶，第三方UI使用element UI，地图采用百度地图开放平台。

## 任务

#### 开发自定义区域
- 难点
  
  区域绘制：鼠标绘制且绘制后可拖拽修改
  
  组件交互：左侧地区选择器，中间地图及图表编辑，右侧操作，头部搜索
- 方案
  
  1. 关于处理地图，总共要实现以下几个功能。
     - 鼠标画笔的启动，关闭
     - 编辑多边形
     - 绘制点，装饰点的icon或label
     - 覆盖物清除

      目前，鉴于还在熟悉百度api阶段，只做了初步封装，熟悉之后考虑能否抽象出类，地图绘制在公司项目中还算常见，项目中验证之后，可以提供出来公用。

      关于样式，已经放入单独文件统一处理

      后台返回的坐标点数据已经封装成通用方法
  2. vuex目前只用来存储数据，因为没有请求来的数据需要共用。

      在单个组件里，除了更新、接收vuex的数据，因为数据变化后要做一些操作，所以用watch监听数据变化

#### 开发距离计算
- 难点
  
  切换地图路径，清除指定覆盖物，如何确定指定覆盖物
- 方案
  
  1. 绘画的时候，给覆盖物对象一个标识id 
  2. 清空地图，判断其他路径显示状态，显示的重新绘制，缺点多，逻辑负担重，重新绘制耗性能

## 总结反思
本次使用typescript封装了几个方法，处理后台返回坐标点，对函数参数类型进行了限制，给函数输出结果类型做了标识，封装好的方法使用起来的心智负担减少，因为typescript会做类型判断，使用起来更顺畅。未来考虑大面积使用typescript。