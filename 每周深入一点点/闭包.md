# 闭包
###### 产生条件
1. 函数嵌套
2. 内部函数引用外部函数变量
3. 外部函数执行
###### 结果
产生闭包存在于外部函数，不会被垃圾回收，延长了变量生命周期
## 业务应用
1. **谷歌验证重复渲染**问题，谷歌验证渲染后会返回一个id。如果id存储在函数中，在局部作用域中的变量会随着函数调用后生命周期结束被垃圾回收，这是js语言减少内存占用的一个机制。但函数是在全局作用域中，函数不消亡，函数里闭包中的变量也会一直存在，所以只要在原有的函数外面加了一层，返回值为当前函数，让id存在于里外两个函数，调用函数的页面在渲染加载的时候就调用一次，产生闭包，之后哪里使用到谷歌验证就在哪里调用函数的返回值，在内部根据id的变化与否判断是否渲染。

2. 节流、防抖
## 面试题
```
function Foo() {
     var i = 0;
     return function () {
         console.log(i++);
     }
 }
 var f1 = Foo(), f2 = Foo();
 f1();//0
 f1();//1
 f2();//0
```