# 闭包
>闭包是指那些能够访问自由变量的**函数**。

实践角度：
- 即使创建函数的**上下文已经销毁**，**函数依然存活**（比如，内部函数从父函数中返回）
- 在代码中**引用了自由变量** (指在函数中使用的，但既不是函数参数也不是函数的局部变量的变量)
>只有还存活的函数找得到这个自由变量，只被这个函数控制，还存在于函数属性中不会被垃圾回收,也没有污染全局变量。
###### 作用
函数执行完，变量不会被垃圾回收，延长了变量生命周期
## 业务应用
1. **谷歌验证重复渲染**问题

   谷歌验证渲染后会返回一个id，再次渲染id会改变。根据这个特点，我打算用闭包延长id的生命周期,不会随函数执行完后被垃圾回收，可以一直访问到，每次渲染前都能判断一下id是否存在再决定要不要渲染。

2. 节流、防抖
## 面试题
```
function Foo() {
     var i = 0;
     return function () {
         console.log(i++);
     }
 }
 var f1 = Foo(), f2 = Foo();
 f1();//0
 f1();//1
 f2();//0
```
变形
```
function Foo() {
     i = 0;
     return function () {
         console.log(i++);
     }
 }
 var f1 = Foo(), f2 = Foo();
 f1();//0
 f1();//1
 f2();//2
```